<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <PackageId>Xamarin.Tests.DynamicLibrariesInRuntimesNativeDirectory</PackageId>
    <PackageVersion>1.0.0</PackageVersion>
    <RepositoryUrl>https://github.com/xamarin/xamarin-macios</RepositoryUrl>
    <RepositoryBranch>main</RepositoryBranch>
    <Authors>Microsoft</Authors>
    <Copyright>Â© Microsoft Corporation. All rights reserved.</Copyright>
    <PackageProjectUrl>https://github.com/xamarin/xamarin-macios</PackageProjectUrl>
    <RootTestDirectory>../../..</RootTestDirectory>
    <TestFrameworksDirectory>$(RootTestDirectory)/test-libraries/frameworks</TestFrameworksDirectory>
  </PropertyGroup>

  <ItemGroup>
    <!-- Dynamic library in native directory -->
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\macos\libtest.x86_64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>runtimes/osx-x64/native/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\macos\libtest.arm64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>runtimes/osx-arm64/native/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\maccatalyst\libtest.x86_64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>runtimes/maccatalyst-x64/native/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\maccatalyst\libtest.arm64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>runtimes/maccatalyst-arm64/native/libtest.dylib</PackagePath>
    </Content>
    <!-- Dynamic library in native subdirectory -->
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\macos\libtest.x86_64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>bin/osx-x64/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\macos\libtest.arm64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>bin/osx-arm64/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\maccatalyst\libtest.x86_64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>bin/maccatalyst-x64/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\maccatalyst\libtest.arm64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>bin/maccatalyst-arm64/libtest.dylib</PackagePath>
    </Content>
    <Content Include="$(RootTestDirectory)\test-libraries\.libs\maccatalyst\libtest.arm64.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Pack>true</Pack>
      <PackagePath>bin/maccatalyst-arm64/libtest2.dylib</PackagePath>
    </Content>
    <!-- Targets file -->
    <Content Include="$(MSBuildThisFileDirectory)\Xamarin.Tests.DynamicLibrariesInRuntimesNativeDirectory.targets">
      <Pack>true</Pack>
      <PackagePath>build/Xamarin.Tests.DynamicLibrariesInRuntimesNativeDirectory.targets</PackagePath>
    </Content>
  </ItemGroup>
</Project>
